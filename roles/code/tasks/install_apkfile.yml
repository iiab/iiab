- name: Make apk directory
  file:
    path: "{{ code_data_root_apk }}"
    state: directory
    # mode: 0755

### Current release - arm64 ###
- name: Download arch arm64 APK
  ansible.builtin.get_url:
    url: "{{ adfa_code_download_url }}/{{ item.filename }}"
    dest: "{{ code_data_root_apk }}/{{ item.filename }}"
    #checksum: "sha256:{{ item.sha256sum }}"
    mode: "0644"
    timeout: "{{ download_timeout }}"
  loop: "{{ code_arm64_release_apk }}"
  
### Future release - arm32 ###
#- name: Download arch arm32 apk (0644)
#  ansible.builtin.get_url:
#    url: "{{ adfa_code_download_url }}/{{ item.filename }}"
#    dest: "{{ code_data_root_apk }}/{{ item.filename }}"
#    checksum: "sha256:{{ item.sha256sum }}"
#    mode: "0644"
#    timeout: "{{ download_timeout }}"
#  loop: "{{ code_arm32_release_apk }}"
