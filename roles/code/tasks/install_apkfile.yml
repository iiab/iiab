- name: Make apk directory
  file:
    path: "{{ code_data_root_apk }}"
    state: directory
    # mode: 0755

### Current release - arm64 ###
- name: Download arch arm 64-bits APK
  get_curl:
    url: "{{ code_download_url }}/{{ code_apk_64bit_filename }}"
    dest: "{{ code_data_root_apk }}/{{ code_apk_64bit_filename }}"
    timeout: "{{ download_timeout }}"
  register: apk_download_64
  retries: 5
  delay: 5
  until: apk_download_64 is succeeded

### Future release - arm32 ###
#- name: Download arch arm 32-bits APK
#  get_url:
#    url: "{{ code_download_url }}/{{ code_apk_32bit_filename }}"
#    dest: "{{ code_data_root_apk }}/{{ code_apk_32bit_filename }}"
#    mode: "0644"
#    timeout: "{{ download_timeout }}"
#  register: apk_download_32
#  retries: 5
#  delay: 5
#  until: apk_download_32 is succeeded
