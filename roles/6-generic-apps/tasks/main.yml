# Generic Apps

- name: ...IS BEGINNING ====================================
  meta: noop

# UNMAINTAINED
- name: DOKUWIKI
  include_role:
    name: dokuwiki
  when: dokuwiki_install is defined and dokuwiki_install

# UNMAINTAINED
- name: EJABBERD
  include_role:
    name: ejabberd
  when: ejabberd_install is defined and ejabberd_install

# UNMAINTAINED
- name: ELGG
  include_role:
    name: elgg
  when: elgg_install is defined and elgg_install

- name: GITEA
  include_role:
    name: gitea
  when: gitea_install and not is_proot

- name: JUPYTERHUB
  include_role:
    name: jupyterhub
  when: jupyterhub_install and not is_proot

# UNMAINTAINED
- name: LOKOLE
  include_role:
    name: lokole
  when: lokole_install is defined and lokole_install

- name: MEDIAWIKI
  include_role:
    name: mediawiki
  when: mediawiki_install and not is_proot

- name: MOSQUITTO
  include_role:
    name: mosquitto
  when: mosquitto_install and not is_proot

- name: NODE-RED
  include_role:
    name: nodered
  when: nodered_install and not is_proot

- name: NEXTCLOUD
  include_role:
    name: nextcloud
  when: nextcloud_install and not is_proot

- name: RAPIDPRO
  include_role:
    name: rapidpro
  when: rapidpro_install

- name: WORDPRESS
  include_role:
    name: wordpress
  when: wordpress_install and not is_proot

- name: Recording STAGE 6 HAS COMPLETED ====================
  lineinfile:
    path: "{{ iiab_env_file }}"
    regexp: '^STAGE=*'
    line: 'STAGE=6'
