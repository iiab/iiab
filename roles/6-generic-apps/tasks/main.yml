# Generic Apps

- name: ...IS BEGINNING ====================================
  set_fact:
    STAGE: 6

- name: DOKUWIKI
  include_role:
    name: dokuwiki
  when: dokuwiki_install
  tags: dokuwiki

- name: ELGG
  include_role:
    name: elgg
  when: elgg_install
  tags: elgg

- name: EJABBERD
  include_role:
    name: ejabberd
  when: ejabberd_install
  tags: ejabberd

- name: NEXTCLOUD
  include_role:
    name: nextcloud
  when: nextcloud_install
  tags: nextcloud

- name: OWNCLOUD
  include_role:
    name: owncloud
  when: owncloud_install
  tags: owncloud

- name: WORDPRESS
  include_role:
    name: wordpress
  when: wordpress_install
  tags: wordpress

- name: Recording STAGE 6 HAS COMPLETED ====================
  template:
    src: roles/1-prep/templates/iiab.stage.j2
    dest: /etc/iiab/iiab.env
    owner: root
    group: root
    mode: 0644
