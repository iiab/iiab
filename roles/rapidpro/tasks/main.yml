---
# This is the main task file for the rapidpro role.
# It orchestrates the entire installation and configuration process.

- name: Run installation tasks
  include_tasks: install.yml

- name: Run configuration tasks
  include_tasks: configure.yml

- name: Run enable-or-disable tasks
  include_tasks: enable-or-disable.yml

- name: Mark rapidpro as installed
  lineinfile:
    path: /etc/iiab/iiab_state.yml
    line: "rapidpro_installed: true"
    create: yes
  become: yes
