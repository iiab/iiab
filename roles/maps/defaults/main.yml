# NOTE: I'm more than happy to change the variable or directory names to
# something more in line with IIAB expectations.

maps_dot_black_small_assets_url: https://v1.maps.black
maps_dot_black_tiles_url: https://maps.black
unpkg_url: https://unpkg.com
iiab_map_host_url: https://iiab.switnet.org/maps/0

# TODO I wonder if it should go under /library/maps/vector_tiles and symlink from the www directory.
# That way it would be near the search data. It would be easier to find everything.
maps_serve_path: "{{ content_base }}/www/osm/maps"   # /library/www/osm/maps
maps_data_root: "{{ content_base }}/maps"            # /library/maps

nominatim_user: nominatim
nominatim_home: /srv/nominatim
nominatim_num_workers_procs: 1 # 4 seems to freeze it up if I make too many requests. But, maybe 1 is too few. Also, optimal on Pi Zero may be lower.
nominatim_venv: "{{ nominatim_home }}/nominatim-venv"

# TODO host our own assets and tiles? Because they may get updated which will break our checksums.
# TODO s/filename/remotesubpath?

# Basic maps.black javascript and styles
maps_dot_black_js_and_styles:
  - name: maps.black.js
    filename: maps.black.js
    sha256sum: 7b3843b5ded151d585ccf3a6db02093e3a95851be36dcffc5fa92030657b9c93

  - name: maps.black-component.js
    filename: maps.black-component.js
    sha256sum: d8a6366065d5fd6840368e88a5b06467b2c5ac3e349a35420b4dee6cc070e542

  - name: resourcetiles-minimal.pmtiles
    filename: resourcetiles-minimal.pmtiles
    sha256sum: 0037047ee0f87dbccd3fc7e6bfa99632d97c41cfd5977bff3b7f86665f3c4f51

# Basic maplibre search javascript and styles
# TODO get the minified versions of all these?
maplibre_search_js_and_styles:

  - name: maplibre-gl.css
    filename: maplibre-gl@5.7.3/dist/maplibre-gl.css
    sha256sum: 43c1d886b5fdf0aac4e7135bd6f84b823d9f48283a648012665f9be52c01389f

  - name: maplibre-gl.js
    filename: maplibre-gl@5.7.3/dist/maplibre-gl.js
    sha256sum: 2986bbddce2c7a944775791201fad5108ec8768fc2e3243cac607b23826e4bc0

  - name: maplibre-gl-geocoder.min.js
    filename: "@maplibre/maplibre-gl-geocoder@1.5.0/dist/maplibre-gl-geocoder.min.js"
    sha256sum: 21aa5e1cadf31a4b40aeb3f6989f38b486172d6f6266f158431bbf3eefd256f5

  - name: maplibre-gl-geocoder.css
    filename: "@maplibre/maplibre-gl-geocoder@1.5.0/dist/maplibre-gl-geocoder.css"
    sha256sum: 9fc78e63cbec12058daefb460f630d203a23f209cac8e19a84d0b257e8325fc3

maps_dot_black_common_tiles:
  # Mostly colors, topography, etc. 58M
  - name: naturalearth6-NE2_HR_SR_W_DR-WEBP.pmtiles
    filename: naturalearth6-NE2_HR_SR_W_DR-WEBP.pmtiles
    src_url: "{{ maps_dot_black_tiles_url }}/naturalearth6-NE2_HR_SR_W_DR-WEBP.pmtiles"
    sha256sum: 22b44759a3f4c7f6a6c7abdcc3dd48786ebbb96f9b3479e6692083e25021207b

maps_dot_black_vector_symlink_name: openstreetmap-openmaptiles.pmtiles

# File size circa Sept 2025
# TODO - hopefully before this is merged, we'll get rid of "ne" (naturalearth)
# option and just have low zoom osm. So then it will be `maps_vector_zoom` and
# just have numbers, like for satellite.
maps_dot_black_vector_tiles:
  # "high res" full osm, including 3d buildings. 78GiB as of Oct 2025
  # (TODO does this include colors and topography? Or is it used along with naturalearth6 above in most styles?)
  # maps_vector_quality = "osm-full"
  osm-full:
    name: openstreetmap-openmaptiles-full.pmtiles
    filename: openstreetmap-openmaptiles-full.pmtiles # NOTE - saves as different filename than the source URL to make room for the symlink
    src_url: "{{ iiab_map_host_url }}/openstreetmap-openmaptiles.pmtiles"
    sha256sum: 95b90ef180b15f6496d01f7437a9ed058d2a1b61ac5dba32f43790010acba77c

  # "medium res" osm, up to zoom level 9 (original file has 14). 1.9GiB as of Oct 2025
  # (TODO does this include colors and topography? Or is it used along with naturalearth6 above in most styles?)
  # maps_vector_quality = "osm-z9"
  osm-z9:
    name: openstreetmap-openmaptiles-zoom_0-09.pmtiles
    filename: openstreetmap-openmaptiles-zoom_0-09.pmtiles
    src_url: "{{ iiab_map_host_url }}/openstreetmap-openmaptiles-zoom_0-09.pmtiles"
    sha256sum: 32fc190bd9009c54b8fc826e215ea4a73ee34de4bbac500cf4fe56eee4f12bdc

  # "low res" - mostly borders, rivers, country names, large roads. 85MB
  # maps_vector_quality = "ne"
  ne: # for "Natural Earth"
    name: naturalearth-openmaptiles.pmtiles
    filename: naturalearth-openmaptiles.pmtiles
    src_url: "{{ maps_dot_black_tiles_url }}/naturalearth-openmaptiles.pmtiles"
    sha256sum: 5ff72ad4944fe64188802d45d5ee88c8c819c94d3b21eba8fae7b19a92a1cc3b

maps_dot_black_satellite_symlink_name: s2maps-sentinel2-2023.pmtiles

maps_dot_black_satellite_tiles:
  # Low quality satellite, up to zoom level 7 (original file has 13), 85MiB
  # maps_sat_zoom = 7
  7:
    name: s2maps-sentinel2-2023-zoom_0-07.pmtiles
    filename: s2maps-sentinel2-2023-zoom_0-07.pmtiles
    src_url: "{{ iiab_map_host_url }}/s2maps-sentinel2-2023-zoom_0-07.pmtiles"
    sha256sum: a97e35ac88e7e99bf467eef921f5af9955844ecf74f399eec4bdb36f37108f4f

  # Moderately high quality satellite, up to zoom level 9 (original file has 13), 1.2GiB
  # maps_sat_zoom = 9
  9:
    name: s2maps-sentinel2-2023-zoom_0-09.pmtiles
    filename: s2maps-sentinel2-2023-zoom_0-09.pmtiles
    src_url: "{{ iiab_map_host_url }}/s2maps-sentinel2-2023-zoom_0-09.pmtiles"
    sha256sum: 544cec6533aca91a504ee274ea3dc64c39cc401b464f6470dd3e7bf2e55a3943

  # Pretty high quality satellite, up to zoom level 11 (original file has 13), 21GiB
  # maps_sat_zoom = 11
  11:
    name: s2maps-sentinel2-2023-zoom_0-11.pmtiles
    filename: s2maps-sentinel2-2023-zoom_0-11.pmtiles
    src_url: "{{ iiab_map_host_url }}/s2maps-sentinel2-2023-zoom_0-11.pmtiles"
    sha256sum: e7215559fcbfb48a0d45452931f6e258834eeb2d8a6acc927a7e4b49b8fb0116

  # Pretty high quality satellite, up to zoom level 12 (original file has 13), 80GiB
  # maps_sat_zoom = 12
  12:
    name: s2maps-sentinel2-2023-zoom_0-12.pmtiles
    filename: s2maps-sentinel2-2023-zoom_0-12.pmtiles
    src_url: "{{ iiab_map_host_url }}/s2maps-sentinel2-2023-zoom_0-12.pmtiles"
    sha256sum: 81aa6eb7ed64714e8bc58596bcb1e1c0cf345cb211a78ccf1fd3145466b97c83

nominatim_db_symlink_name: mydb.sqlite
nominatim_db_basic_name: mydb.basic.sqlite
nominatim_db_full_name: mydb.full.sqlite

nominatim_data:
  # Basic nominatim database
  # maps_search_full = False
  False:
    name: "{{ nominatim_db_basic_name }}"
    filename: "{{ nominatim_db_basic_name }}"
    src_url: "{{ iiab_map_host_url }}/{{ nominatim_db_basic_name }}"
    # California admin+natural for now. TODO make a small worldwide one. (unless we go to the frontend-only one)
    # TODO - Make a basic small whole-world map, at least as good as previous maps
    sha256sum: 4c87584c9f8e58fdf9072257d7f25605132ef613a1aa1e922525d52b9be7a8e2

  # Full nominatim database
  # maps_search_full = True
  True:
    name: "{{ nominatim_db_full_name }}"
    filename: "{{ nominatim_db_full_name }}"
    src_url: "{{ iiab_map_host_url }}/{{ nominatim_db_full_name }}"
    sha256sum: bb9e95c644298aca3154bf6436939bbb305511dde4563d2a1743916e819864fc
