This directory is for building files/maps.black.js. It contains the following files from the maps.black repository in the `client/` directory:

* maps.black.js
* package.json
* package-lock.json

The initial versions of these files match the same files from the maps.black repository version `12205728ceb0672682381088c6c1e7ad05fdc4f5`, and the built version at files/maps.black.js perfectly matches what (as of Jan 2026) is being hosted at https://v1.maps.black/maps.black.js

However, over time we will add changes to maps.black.js to meet our needs, and files/maps.black.js should be rebuilt. Hopefully this will be rare.

# Upstream updates

If maps.black ever releases an update to its static assets, we should first overwrite our copy of maps.black.js in this directory with the *unchanged* new version from maps.black's repository, and commit it. We should then build files/maps.black.js and confirm that it matches the new version that maps.black is *serving* (perhaps it will be at https://v2.maps.black/maps.black.js). Finally, we should update the sha256sum for the built version (again, not including our custom changes) of maps.black.js in default/main.yml, along with the other static assets that we are still downloading from maps.black.

Only after that, we should repeat the same custom changes we applied to the previous version, each as separate additional commits, so we can continue to keep track of them.

# Building

Warning: You may want to run this in a VM. It will install nodejs from nodesource, not your OS's repository. It will also install npm packages.

To build, copy this directory to your build environment, and run `./build.sh`. The built version of maps.black.js will be in the `client/` subdirectory. Rescue it from your build environment and overwrite `files/maps.black.js` in the iiab repository and commit it.
